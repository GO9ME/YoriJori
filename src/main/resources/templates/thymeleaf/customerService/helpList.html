<!DOCTYPE html>
<html xmlns:th="http://www.thymeleaf.org"
	xmlns:layout="http://www.ultraq.net.nz/thymeleaf/layout"
	layout:decorate="~{thymeleaf/layout/CSLayout}">
<th:block layout:fragment="header">
	<script src="https://kit.fontawesome.com/8b61787525.js"
		crossorigin="anonymous"></script>
	<link rel="stylesheet"
		href="/yorijori/common/css/customerService/list.css" />
	<script type="text/javascript"
		src="/yorijori/common/js/customerService/list.js"></script>
	<script type="text/javascript"
		src="/yorijori/common/js/customerService/CSpageNavigation.js"></script>
	<script type="text/javascript">
		$(document).ready(function() {
			$(".current").attr("class", "nav-link")
			$("#help").attr("class", "nav-link current")
		})
	</script>
</th:block>
<th:block layout:fragment="content">
	<div class="container concon">
		<div class="deskTitle">
			<h3 class="menu-h3-common">자주 묻는 질문</h3>
			<th:block th:if="${#session.getAttribute('userInfo').role == '관리자'}">	
				<i onclick="location.href='http://localhost:8088/yorijori/cs/help/insert'" class="fa-sharp fa-solid fa-circle-plus">
				</i>
			</th:block>
		</div>
		<div class="row">
			<div class="col-md-12">
				<ul class="qnaTableBody">
					<li>
						<h6>
							<a href="javascript:0">구매 전 확인해야 할 것들은 무엇이 있나요?</a>
						</h6>
						<div class="hide">
							<p>레시피를 보고 만든 요리! 인증샷 바로 찍어서 리뷰로 올리세요.</p>
							<p>
								<br />
							</p>
							<p>
								<br />
							</p>
							<p>
								<br />
							</p>
							<p>[앱]</p>
							<p>
								<br />
							</p>
							<p>- 레시피 상단의 [카메라]기능으로 찰칵!</p>
							<p>
								<br />
							</p>
							<p>- 하단에서 [리뷰]로 등록하세요.</p>
							<p>
								<br />
							</p>
							<p>- 운영진의 승인 후 다른 사용자들에게 노출되며, 쉐프님에게 알림이 전송됩니다.</p>
							<p>
								<br />
							</p>
							<p>
								<br />
							</p>
							<p>
								<br />
							</p>
							<p>[모바일웹]</p>
							<p>
								<br />
							</p>
							<p>- 레시피 하단에서 리뷰를 작성하실 수 있어요.</p>
							<p>
								<br />
							</p>
							<p>※ PC웹엔 리뷰 입력란이 없으니 유의해주세요.</p>
							<p>
								<br />
							</p>
							<p>
								<br />
							</p>
							<p>
								<br />
							</p>
							<p>편리한 기능이 가득한 앱을 다운받아 이용하세요 :)</p>
							<p>
								<br />
							</p>
							<p>감사합니다.</p>
						</div>
					</li>

					<li th:each="question:${questionList}">
						<h6>
							<a href="javascript:0" th:text="${question.title}">상품에 대해 더 궁금한 점이 있어요.</a>
						</h6>
						<div class="hide">
							<p th:text="${#strings.replace(#strings.replace(question.contents, '<p>', ''), '</p>', '')}">
								카카오톡 상담 신청을 통해 레시피 관련 문의를 주시면 빠른 답변 드리겠습니다.
							</p>
						 	<span style="float: right;">
						   		<i class="pull-right" style="float: right;">
							    	<a th:href="@{/cs/help/delete(questionNo=${question.questionNo})}">
							    	<i class="fa-solid fa-trash"></i>
							    	</a>
							    </i>						   	
							</span>
					</li>

					<li>
						<h6>
							<a href="javascript:0">주문을 취소하고 싶습니다.</a>
						</h6>
						<div class="hide">
							<a>배송전 취소는 카카오톡 상담신청 을 통해 (상품명, 주문자명) 기재후 취소 요청 부탁드립니다. 단,
								상품이 이미 출고 된 경우 발송 및 회수에 소요되는 배송료를 제외한 뒤 환불되는 점 참고 바랍니다.</a>
						</div>
					</li>
				</ul>
			</div>
			<!-- 페이징 자리 -->				
			<div class="col-12 text-center mt-4 mt-sm-5">
				<div id="pag">
					<nav th:insert="~{thymeleaf/common/pagination :: pagination}"></nav>
				</div>
			</div>
	</div>
</div>
<script th:inline="javascript">
		// 현재 페이지
		let currentPage = [[${pageNo}]];
		// 한번에 보여줄 페
		let pagePerCount = [[${pagePerCount}]];
		// 게시물  카운트
		let questionCount = [[${count}]];
		//불러왔을때 총 게시물 / pagePerCount
		let totalPages = 1;
		//공통url
		let url = "/yorijori/cs/help/";
		
		if ( questionCount > pagePerCount ){
			totalPages = Math.ceil( questionCount /pagePerCount )
		}
		// pagination 들어갈 div
		const pagination = $('#pagination_div');
		
		$(document).ready(function(){
			
			makePagination(pagination, totalPages, pagePerCount, currentPage + 1, move_list);

		});
		const move_list = function(page) {
				let url = "/yorijori/cs/help/"+ page + "/" + pagePerCount;
				window.location.href = url;
		}
		</script>
</th:block>
</html>